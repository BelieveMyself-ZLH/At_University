<<<<<<< HEAD
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../../css/list.css" />
		<script src="../../js/jquery-3.3.1.min.js"></script>
		<script>
		    /**
		     * 全选或反选
		     * @param {Object} current  触发事件的元素对象
		     */
		    function checkAll(current) {
		    	$("input[name=id]").prop("checked", current.checked);
		    }
		
		    /**
		     * 添加
		     */
			function add() {
				location.href = "deptaddview";
			}
			
			/**
			 * 修改
			 */
			function update() {
				//获得选中的行数
				var count = $("input[name=id]:checked").length;
				//判断是否不是选中一行
				if(count!=1) {
					parent.alertDialog("提示", "请选择一条修改的行!");
					return;
				}
				//获得表单对象
				var form = $("#form2").get(0);
				//设置请求路径
				form.action = "deptupdateview";
				//提交表单
				form.submit();
			}
			
			/**
			 * 删除
			 */
			function deleting() {
				//获得选中的行数
				var count = $("input[name=id]:checked").length;
				//判断是否未选中行
				if(count<1) {
					parent.alertDialog("提示", "请至少选择一条删除的行!");
					return;
				}
				//确认是否删除
				/*if(confirm("您确定要删除选择的行?")) {
					var form = $("#form2").get(0);
					form.action = "deptlist.html";
					form.submit();
				}*/
				parent.confirmDialog("选择", "您确定要删除选择的行?", function() {
					//alert(1);
					var form = $("#form2").get(0);
					form.action = "deptdelete";
					form.submit();
				});
			}
			
			/**
			 * 分页
			 */
			function pageSubmit(pageNumber) {
				//设置页码参数
				$("#pageNumber").val(pageNumber);
				//获得表单对象
				var form = $("#form3").get(0);
				//提交表单
				form.submit();
			}
		</script>
	</head>
	<body>
		<div id="header">
			<ul class="nav nav-tabs">
				<li class="active"><a href="#">部门管理</a></li>
			</ul>
		</div>
		<div id="content">
			<form id="form1" method="post" action="deptlist" class="form-inline">
				<input type="text" name="sdeptName" placeholder="按部门名称搜索!" 
				    autofocus class="form-control input-sm" th:value="${param.sdeptName}" />
				<input type="submit" value="搜 索" class="btn btn-warning btn-sm" />
			</form>
			<form id="form2" method="post" action="#">
				<table class="table table-bordered table-hover">
					<tr>
						<th><input type="checkbox" onclick="checkAll(this);" /></th>
						<th>序号</th>
						<th>部门名称</th>
						<th>成立时间</th>
						<th>操作时间</th>
					</tr>
					<tr th:each="dept,status:${list}">
						<td><input type="checkbox" name="id" th:value="${dept.deptId}" /></td>
						<td th:text="${startIndex+status.count}"></td>
						<td th:text="${dept.deptName}"></td>
						<td th:text="${#dates.format(dept.deptCreateTime, 'yyyy年MM月dd日')}"></td>
						<td th:text="${#dates.format(dept.operTime, 'yyyy年MM月dd日 HH:mm:ss')}"></td>
					</tr>
					<tr th:if="${list.size()==0}">
					    <td colspan="5" style="color:#FF0000;">未查找到数据!</td>
					</tr>
				</table>
			</form>
			<div id="pager">
			    <ul class="pager">
			        <li style="float:left;" th:text="'共-'+${totalPageCount}+'-页,共-'+${totalRowCount}+'-行,第-'+${pageNumber}+'-页,每页-'+${maxRowCount}+'-行'"> </li>
			        <li class="next"><a th:href="'javascript:pageSubmit('+${totalPageCount}+')'">尾页</a></li>
			        <li class="next"><a th:href="'javascript:pageSubmit('+${pageNumber+1}+')'">下一页</a></li>
			        <li class="next"><a th:href="'javascript:pageSubmit('+${pageNumber-1}+')'">上一页</a></li>
			        <li class="next"><a href="javascript:pageSubmit(1)">首页</a></li>
                </ul>
                <form id="form3" method="post" action="deptlist">
                    <input type="hidden" name="sdeptName" th:value="${param.sdeptName}" />
                    <input type="hidden" id="pageNumber" name="pageNumber" />
                </form>
			</div>
			<div id="btn-group">
				<input type="button" value="添 加" class="btn btn-primary btn-sm" onclick="add()" />
				<input type="button" value="修 改" class="btn btn-success btn-sm" onclick="update()" />
				<input type="button" value="删 除" class="btn btn-danger btn-sm" onclick="deleting()" />
			</div>
		</div>
	</body>
</html>
=======
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../../css/list.css" />
		<script src="../../js/jquery-3.3.1.min.js"></script>
		<script>
		    /**
		     * 全选或反选
		     * @param {Object} current  触发事件的元素对象
		     */
		    function checkAll(current) {
		    	$("input[name=id]").prop("checked", current.checked);
		    }
		
		    /**
		     * 添加
		     */
			function add() {
				location.href = "deptaddview";
			}
			
			/**
			 * 修改
			 */
			function update() {
				//获得选中的行数
				var count = $("input[name=id]:checked").length;
				//判断是否不是选中一行
				if(count!=1) {
					parent.alertDialog("提示", "请选择一条修改的行!");
					return;
				}
				//获得表单对象
				var form = $("#form2").get(0);
				//设置请求路径
				form.action = "deptupdateview";
				//提交表单
				form.submit();
			}
			
			/**
			 * 删除
			 */
			function deleting() {
				//获得选中的行数
				var count = $("input[name=id]:checked").length;
				//判断是否未选中行
				if(count<1) {
					parent.alertDialog("提示", "请至少选择一条删除的行!");
					return;
				}
				//确认是否删除
				/*if(confirm("您确定要删除选择的行?")) {
					var form = $("#form2").get(0);
					form.action = "deptlist.html";
					form.submit();
				}*/
				parent.confirmDialog("选择", "您确定要删除选择的行?", function() {
					//alert(1);
					var form = $("#form2").get(0);
					form.action = "deptdelete";
					form.submit();
				});
			}
			
			/**
			 * 分页
			 */
			function pageSubmit(pageNumber) {
				//设置页码参数
				$("#pageNumber").val(pageNumber);
				//获得表单对象
				var form = $("#form3").get(0);
				//提交表单
				form.submit();
			}
		</script>
	</head>
	<body>
		<div id="header">
			<ul class="nav nav-tabs">
				<li class="active"><a href="#">部门管理</a></li>
			</ul>
		</div>
		<div id="content">
			<form id="form1" method="post" action="deptlist" class="form-inline">
				<input type="text" name="sdeptName" placeholder="按部门名称搜索!" 
				    autofocus class="form-control input-sm" th:value="${param.sdeptName}" />
				<input type="submit" value="搜 索" class="btn btn-warning btn-sm" />
			</form>
			<form id="form2" method="post" action="#">
				<table class="table table-bordered table-hover">
					<tr>
						<th><input type="checkbox" onclick="checkAll(this);" /></th>
						<th>序号</th>
						<th>部门名称</th>
						<th>成立时间</th>
						<th>操作时间</th>
					</tr>
					<tr th:each="dept,status:${list}">
						<td><input type="checkbox" name="id" th:value="${dept.deptId}" /></td>
						<td th:text="${startIndex+status.count}"></td>
						<td th:text="${dept.deptName}"></td>
						<td th:text="${#dates.format(dept.deptCreateTime, 'yyyy年MM月dd日')}"></td>
						<td th:text="${#dates.format(dept.operTime, 'yyyy年MM月dd日 HH:mm:ss')}"></td>
					</tr>
					<tr th:if="${list.size()==0}">
					    <td colspan="5" style="color:#FF0000;">未查找到数据!</td>
					</tr>
				</table>
			</form>
			<div id="pager">
			    <ul class="pager">
			        <li style="float:left;" th:text="'共-'+${totalPageCount}+'-页,共-'+${totalRowCount}+'-行,第-'+${pageNumber}+'-页,每页-'+${maxRowCount}+'-行'"> </li>
			        <li class="next"><a th:href="'javascript:pageSubmit('+${totalPageCount}+')'">尾页</a></li>
			        <li class="next"><a th:href="'javascript:pageSubmit('+${pageNumber+1}+')'">下一页</a></li>
			        <li class="next"><a th:href="'javascript:pageSubmit('+${pageNumber-1}+')'">上一页</a></li>
			        <li class="next"><a href="javascript:pageSubmit(1)">首页</a></li>
                </ul>
                <form id="form3" method="post" action="deptlist">
                    <input type="hidden" name="sdeptName" th:value="${param.sdeptName}" />
                    <input type="hidden" id="pageNumber" name="pageNumber" />
                </form>
			</div>
			<div id="btn-group">
				<input type="button" value="添 加" class="btn btn-primary btn-sm" onclick="add()" />
				<input type="button" value="修 改" class="btn btn-success btn-sm" onclick="update()" />
				<input type="button" value="删 除" class="btn btn-danger btn-sm" onclick="deleting()" />
			</div>
		</div>
	</body>
</html>
>>>>>>> second commit
