<<<<<<< HEAD
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../../css/list.css" />
		<script src="../../js/jquery-3.3.1.min.js"></script>
		<script>
		    /**
		     * 全选或反选
		     * @param {Object} current  触发事件的元素对象
		     */
		    function checkAll(current) {
		    	$("input[name=id]").prop("checked", current.checked);
		    }
		     
		    /**
		     * 下载
		     */
		    function download() {
		    	//获得选中的行数
				var count = $("input[name=id]:checked").length;
				//判断是否未选中行
				if(count<1) {
					parent.alertDialog("提示", "请选择下载的文件!");
					return;
				}
				//获得表单对象
				var form = $("#form2").get(0);
				form.action = "filedownload";
				form.submit();
		    }
		</script>
	</head>
	<body>
		<div id="header">
			<ul class="nav nav-tabs">
				<li class="active"><a href="#">文件管理</a></li>
			</ul>
		</div>
		<div id="content">
		    <form method="post" enctype="multipart/form-data" action="fileupload" class="form-inline">
		        <p><input type="file" name="file" class="form-control" /></p>
		        <p><input type="submit" value="上 传" class="btn btn-primary btn-sm" /></p>
		    </form>
		    <hr/>
			<form id="form2" method="post" action="#">
				<table class="table table-bordered table-hover">
					<tr>
						<th style="width:80px;"><input type="checkbox" onclick="checkAll(this);" /></th>
						<th style="width:80px;">序号</th>
						<th>文件名</th>
						<th>类型</th>
						<th>大小</th>
					</tr>
					<tr th:each="file,status:${list}">
						<td><input type="checkbox" name="id" th:value="${file.fileName}" /></td>
						<td th:text="${status.count}"></td>
						<td th:text="${file.fileName}" style="text-align:left;"></td>
						<td th:text="${file.fileType}"></td>
						<td th:text="${file.fileLength}"></td>
					</tr>
					<tr th:if="${list.size()==0}">
					    <td colspan="5" style="color:#FF0000;">未查找到数据!</td>
					</tr>
				</table>
			</form>
			<div id="btn-group">
				<input type="button" value="下 载" class="btn btn-primary btn-sm" onclick="download()" />
			</div>
		</div>
	</body>
</html>
=======
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../../css/list.css" />
		<script src="../../js/jquery-3.3.1.min.js"></script>
		<script>
		    /**
		     * 全选或反选
		     * @param {Object} current  触发事件的元素对象
		     */
		    function checkAll(current) {
		    	$("input[name=id]").prop("checked", current.checked);
		    }
		     
		    /**
		     * 下载
		     */
		    function download() {
		    	//获得选中的行数
				var count = $("input[name=id]:checked").length;
				//判断是否未选中行
				if(count<1) {
					parent.alertDialog("提示", "请选择下载的文件!");
					return;
				}
				//获得表单对象
				var form = $("#form2").get(0);
				form.action = "filedownload";
				form.submit();
		    }
		</script>
	</head>
	<body>
		<div id="header">
			<ul class="nav nav-tabs">
				<li class="active"><a href="#">文件管理</a></li>
			</ul>
		</div>
		<div id="content">
		    <form method="post" enctype="multipart/form-data" action="fileupload" class="form-inline">
		        <p><input type="file" name="file" class="form-control" /></p>
		        <p><input type="submit" value="上 传" class="btn btn-primary btn-sm" /></p>
		    </form>
		    <hr/>
			<form id="form2" method="post" action="#">
				<table class="table table-bordered table-hover">
					<tr>
						<th style="width:80px;"><input type="checkbox" onclick="checkAll(this);" /></th>
						<th style="width:80px;">序号</th>
						<th>文件名</th>
						<th>类型</th>
						<th>大小</th>
					</tr>
					<tr th:each="file,status:${list}">
						<td><input type="checkbox" name="id" th:value="${file.fileName}" /></td>
						<td th:text="${status.count}"></td>
						<td th:text="${file.fileName}" style="text-align:left;"></td>
						<td th:text="${file.fileType}"></td>
						<td th:text="${file.fileLength}"></td>
					</tr>
					<tr th:if="${list.size()==0}">
					    <td colspan="5" style="color:#FF0000;">未查找到数据!</td>
					</tr>
				</table>
			</form>
			<div id="btn-group">
				<input type="button" value="下 载" class="btn btn-primary btn-sm" onclick="download()" />
			</div>
		</div>
	</body>
</html>
>>>>>>> second commit
